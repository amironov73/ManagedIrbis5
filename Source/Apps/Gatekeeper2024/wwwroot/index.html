<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Привратник 2024</title>
    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css">

</head>
<body>

<nav class="navbar navbar-expand navbar-dark bg-dark bg-gradient">
    <div class="container-fluid">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
                <a class="nav-link active" href="https://irklib.ru">
                    ГБУК ИОГУНБ
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    Привратник 2024
                </a>
            </li>
        </ul>
    </div>
</nav>

<div class="container">

    <div class="row">

        <div class="col-6 offset-3">

            <div class="mt-3">
                <div id="alert-box" class="alert alert-info">
                    <div>
                        <span id="message-text" class="text-success"></span>
                    </div>
                </div>
            </div>

        </div>

    </div>

</div>

<script src="lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/axios.min.js"></script>


<script>
    setInterval(() => {
                axios.get("/api/state")
                        .then(function (response) {
                            let alertBox = document.getElementById ("alert-box")
                            let messageText = document.getElementById ("message-text")
                            alertBox.className = response.data.error
                                    ? "alert alert-danger"
                                    : "alert alert-info"
                            messageText.innerText = response.data.message
                        })
                        .catch(function () {
                            let alertBox = document.getElementById ("alert-box")
                            let messageText = document.getElementById ("message-text")
                            alertBox.className = "alert alert-danger"
                            messageText.innerText = "Ошибка связи с веб-приложением"
                        })
            },
            1000)

</script>

</body>
</html>
