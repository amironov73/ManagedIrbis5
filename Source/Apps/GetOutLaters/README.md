### GetOutLaters

Простая утилита, "прогоняющая" "ночующих" - тех читателей, которые по какой-либо причине не отметились при выходе из библиотеки.

Параметры командной строки не требуются.

В настройках `appsettings.json`:

* **search** - поисковое выражение, формирующее список читателей, числящихся вошедшими, но не вышедшими из библиотеки. Как правило, `VIS=1`.

* **irbis-connection** - строка подключения к серверу ИРБИС64 в формате `host=127.0.0.1;login=librarian;password=secret;db=RDR;`.

Что делает утилита:

1. Стартует по расписанию, как правило, глубокой ночью.

2. Находит в базе согласно заданному поисковому выражению записи читателей, числящихся находящимися в библиотеке.

3. В каждой из отобранных записей выбираются поля с меткой `40`, в которых присутствует `1`, но отсутствует подполе `2` (т. е. не проставлено время выхода из библиотеки).

4. В этих полях подполю `2` присваивается значение `23:59:59`, а значение из подполя `d` копируется в подполе `f`. Таким образом закрывается посещение.

5. Из записи удаляется подполе `999`, служащее признаком присутствия читателя в библиотеке.

6. Модифицированная запись отправляется обратно на сервер.
